let auxTypes = [];
let auxEvolutionRequirements = [];
let auxVersions = [];

const digimons = (() => {
  let db = [];
  for (let i = 0; i < MINI_DB.length; i++) {
    let digimonDetails = MINI_DB[i].split("|");
    db.push({
      id: digimonDetails[0],
      name: digimonDetails[1],
      img: digimonDetails[2],
      lv: parseInt(digimonDetails[3]),
      type: digimonDetails[4],
      stage: parseInt(digimonDetails[5]),
      evolutionRequirement: digimonDetails[6],
      attribute: parseInt(digimonDetails[7]),
      evolutions: digimonDetails[8].split(","),
      authors: {
        madeBy: parseInt(digimonDetails[9]),
        editBy: parseInt(digimonDetails[10]),
        recolor: parseInt(digimonDetails[11]),
        redesign: parseInt(digimonDetails[12]),
        from: parseInt(digimonDetails[13])
      },
      version: digimonDetails[14]
    });

    /** Fill types constant while fill digimons constant */
    let subOptions = digimonDetails[4].split('/');
    if (subOptions.length == 1 && !auxTypes.includes(subOptions[0]) && subOptions[0] != '') {
      auxTypes.push(subOptions[0]);
    } else {
      for (let subOp of subOptions) {
        if (!auxTypes.includes(subOp) && subOp != '') auxTypes.push(subOp);
      }
    }

    /** Fill evolution requirements constant while fill digimons constant */
    subOptions = digimonDetails[6].split('/');
    if (subOptions.length == 1 && !auxEvolutionRequirements.includes(subOptions[0]) && subOptions[0] != '') {
      auxEvolutionRequirements.push(subOptions[0]);
    } else {
      for (let subOp of subOptions) {
        if (!auxEvolutionRequirements.includes(subOp) && subOp != '') auxEvolutionRequirements.push(subOp);
      }
    }

    /** Fill versions constant */
    if (digimonDetails[14] != '' && !auxVersions.includes(digimonDetails[14])) {
      auxVersions.push(digimonDetails[14]);
    }

  }
  // return db.sort((previous, index) => (previous.img > index.img) ? 1 : -1);
  return db.sort((previous, index) => previous.id - index.id);
})();

const attributes = {
  1: "Vaccine",
  2: "Virus",
  3: "Data",
  4: "Free",
  5: "Unknown",
  6: "Variable",
  7: "None"
}

const attributesIcons = {
  1: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#3498db"><path d="M131.81067,11.41068c-2.33303,0.00061 -4.43306,1.41473 -5.31096,3.57628c-0.8779,2.16155 -0.3586,4.6395 1.31331,6.26668l2.86667,2.86667l-10.27969,10.27969l17.2,17.2l10.27969,-10.27969l2.86667,2.86667c1.43802,1.49776 3.57339,2.1011 5.58258,1.57731c2.00919,-0.52378 3.57824,-2.09283 4.10202,-4.10202c0.52378,-2.00919 -0.07955,-4.14456 -1.57732,-5.58258l-22.93333,-22.93333c-1.07942,-1.10959 -2.56163,-1.73559 -4.10964,-1.73568zM97.46667,28.66667c-1.4663,0 -2.93278,0.55882 -4.05364,1.67969c-2.24173,2.24173 -2.24173,5.86556 0,8.10729l1.67969,1.67969l-59.70729,59.70729c-4.3,4.3 -6.71875,10.13152 -6.71875,16.21459v19.17083l-9.78698,9.78698c-1.49776,1.43802 -2.1011,3.57339 -1.57731,5.58258c0.52378,2.00919 2.09283,3.57824 4.10202,4.10202c2.00919,0.52378 4.14456,-0.07955 5.58258,-1.57732l9.78698,-9.78698h19.17083c6.08306,0 11.91459,-2.41875 16.21459,-6.71875l59.70729,-59.70729l1.67969,1.67969c1.118,1.118 2.58591,1.67969 4.05364,1.67969c1.46773,0 2.93564,-0.56169 4.05364,-1.67969c2.24173,-2.24173 2.24173,-5.86556 0,-8.10729l-40.13333,-40.13333c-1.12087,-1.12087 -2.58734,-1.67969 -4.05364,-1.67969zM103.2,48.24063l16.94245,16.94245c2.0468,2.0468 2.0468,5.36622 0,7.41302c-2.0468,2.0468 -5.36622,2.0468 -7.41302,0l-5.78932,-5.78932c-2.06973,-2.06973 -5.41048,-2.06973 -7.48021,0l-12.27292,12.27292l2.86667,2.86667c2.24173,2.24173 2.24173,5.87129 0,8.10729c-2.24173,2.24173 -5.87129,2.24173 -8.10729,0l-2.86667,-2.86667l-9.09271,9.09271l2.86667,2.86667c2.24173,2.24173 2.24173,5.87129 0,8.10729c-2.24173,2.24173 -5.87129,2.24173 -8.10729,0l-2.86667,-2.86667l-12.8888,12.8888c-2.37933,2.37933 -6.35755,1.9367 -8.15208,-0.90703c-1.3072,-2.06973 -0.9924,-4.77453 0.73906,-6.50599z"></path></g></g></svg>`,
  2: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#9b59b6"><path d="M86,11.46667c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0.00723,4.0894 2.1918,7.86546 5.73333,9.91016v1.89245c-12.09226,1.33823 -22.91081,6.85408 -31.00703,15.0724l-9.29427,-7.72656c0,-0.00373 0,-0.00747 0,-0.0112c0.11074,-0.63983 0.16693,-1.2879 0.16797,-1.93724c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0,6.33287 5.1338,11.46667 11.46667,11.46667c1.34953,-0.00442 2.68768,-0.24703 3.95286,-0.71667l9.57422,7.95052c-4.90819,7.89736 -7.79375,17.1826 -7.79375,27.16614c0,0.54076 0.06187,1.06455 0.07839,1.6013c-1.75975,-1.04255 -3.76633,-1.59543 -5.81172,-1.6013c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0,6.33287 5.1338,11.46667 11.46667,11.46667c3.59936,-0.00615 6.98697,-1.70203 9.1487,-4.57995c1.91968,5.0362 4.58515,9.69211 7.89453,13.82942l-8.34245,8.34245c-0.96778,-0.25974 -1.96542,-0.3915 -2.96745,-0.39192c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c-0.00505,-0.99877 -0.14057,-1.9926 -0.40313,-2.95625l8.35365,-8.35364c5.26304,4.20983 11.36251,7.39597 18.01745,9.29427c-1.94623,2.11183 -3.02916,4.87709 -3.03464,7.74896c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c-0.00396,-2.09352 -0.58098,-4.146 -1.66849,-5.93489c6.45804,-0.50486 12.56938,-2.20753 18.14063,-4.8711l7.64817,11.46667c-0.77962,1.57742 -1.18576,3.3131 -1.18698,5.07266c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667c-0.24292,0.00348 -0.48566,0.01469 -0.72786,0.03359l-7.44661,-11.16432c4.69152,-3.71035 8.70344,-8.22401 11.86979,-13.32552l7.90573,3.15781c0.81194,5.63659 5.63753,9.82321 11.33229,9.83177c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667c-2.56835,0.00543 -5.06053,0.87296 -7.07708,2.46354l-7.23386,-2.90026c1.3663,-3.97325 2.27492,-8.15162 2.63151,-12.49687c3.53244,-1.95349 5.94609,-5.67544 5.94609,-9.99974c0,-5.32993 -3.65239,-9.76536 -8.57761,-11.05234c-1.48826,-4.32212 -3.49513,-8.39976 -6.01328,-12.11615l5.89011,-5.8901c0.96778,0.25974 1.96542,0.3915 2.96745,0.39193c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0.00505,0.99877 0.14057,1.9926 0.40312,2.95625l-5.29661,5.29661c-7.91486,-7.41853 -18.13688,-12.392 -29.50651,-13.65026v-1.88125c3.54499,-2.0467 5.73009,-5.82795 5.73333,-9.92135c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667zM68.8,63.06667c3.1648,0 5.73333,2.56853 5.73333,5.73333c0,3.1648 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.56853 -5.73333,-5.73333c0,-3.1648 2.56853,-5.73333 5.73333,-5.73333zM108.93333,80.26667c6.33533,0 11.46667,5.13133 11.46667,11.46667c0,6.33533 -5.13133,11.46667 -11.46667,11.46667c-6.33533,0 -11.46667,-5.13133 -11.46667,-11.46667c0,-6.33533 5.13133,-11.46667 11.46667,-11.46667zM71.66667,97.46667c4.7472,0 8.6,3.8528 8.6,8.6c0,4.7472 -3.8528,8.6 -8.6,8.6c-4.7472,0 -8.6,-3.8528 -8.6,-8.6c0,-4.7472 3.8528,-8.6 8.6,-8.6z"></path></g></g></svg>`,
  3: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#2ecc71"><path d="M34.4,22.93333c-6.33533,0 -11.46667,5.13133 -11.46667,11.46667v17.2c0,3.1648 2.56853,5.73333 5.73333,5.73333h114.66667c3.1648,0 5.73333,-2.56853 5.73333,-5.73333v-17.2c0,-6.33533 -5.13133,-11.46667 -11.46667,-11.46667zM28.66667,68.8c-3.1648,0 -5.73333,2.56853 -5.73333,5.73333v22.93333c0,3.1648 2.56853,5.73333 5.73333,5.73333h114.66667c3.1648,0 5.73333,-2.56853 5.73333,-5.73333v-22.93333c0,-3.1648 -2.56853,-5.73333 -5.73333,-5.73333zM28.66667,114.66667c-3.1648,0 -5.73333,2.56853 -5.73333,5.73333v17.2c0,6.33533 5.13133,11.46667 11.46667,11.46667h103.2c6.33533,0 11.46667,-5.13133 11.46667,-11.46667v-17.2c0,-3.1648 -2.56853,-5.73333 -5.73333,-5.73333z"></path></g></g></svg>`,
  4: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#e74c3c"><path d="M86,14.33333c-39.41667,0 -71.66667,32.25 -71.66667,71.66667c0,26.51107 15.0612,50.16667 36.5612,62.3444c4.2832,2.1556 8.5944,4.31119 13.60547,5.73893l17.18881,-47.31119c-5.01107,-1.42774 -9.29427,-4.28321 -12.17774,-7.86654c-3.58333,-3.58333 -5.01107,-7.89453 -5.01107,-12.9056c0,-12.17774 9.32226,-21.5 21.5,-21.5c12.17774,0 21.5,9.32226 21.5,21.5c0,5.01107 -1.42774,9.32226 -4.31119,12.9056c-2.85547,3.58333 -7.16667,7.16667 -12.17774,7.86654l17.2168,47.31119c4.2832,-1.42774 9.29427,-3.58333 12.8776,-5.73893c22.22786,-12.17774 36.56119,-35.83333 36.56119,-62.3444c0,-39.41667 -32.25,-71.66667 -71.66667,-71.66667zM116.0944,134.73893l-7.86653,-20.80012c8.5944,-6.43881 13.60547,-16.46094 13.60547,-27.93881c0,-20.07226 -15.76107,-35.83333 -35.83333,-35.83333c-20.07226,0 -35.83333,15.76107 -35.83333,35.83333c0,11.47787 5.01107,21.5 13.60547,27.93881l-7.86654,20.80012c-16.48893,-10.05012 -27.23893,-27.96679 -27.23893,-48.73893c0,-31.52213 25.8112,-57.33333 57.33333,-57.33333c31.52214,0 57.33333,25.8112 57.33333,57.33333c0,20.77214 -10.75,38.68881 -27.23893,48.73893z"></path></g></g></svg>`,
  5: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#95a5a6"><path d="M144.14317,94.66808c-2.752,-2.01742 -4.39317,-5.25675 -4.39317,-8.66808c0,-3.41133 1.64117,-6.65067 4.39317,-8.66808l8.47458,-6.2135c1.83825,-1.35092 2.62658,-3.70875 1.96367,-5.89458c-3.14258,-10.39167 -8.80067,-20.1455 -16.35792,-28.20442c-1.56233,-1.66267 -4.00617,-2.16433 -6.0845,-1.24342l-9.56033,4.20683c-3.12467,1.37242 -6.74742,1.17533 -9.70367,-0.53033c-2.95267,-1.70925 -4.93783,-4.74792 -5.3105,-8.13775l-1.1395,-10.39883c-0.24725,-2.26825 -1.89917,-4.128 -4.12083,-4.65117c-10.96858,-2.5585 -21.61467,-2.56925 -32.60833,-0.00358c-2.22167,0.51958 -3.87717,2.38292 -4.12442,4.65117l-1.1395,10.39883c-0.37267,3.38625 -2.35783,6.4285 -5.31408,8.13775c-2.94908,1.70925 -6.57542,1.90275 -9.70008,0.53033l-9.56033,-4.20683c-2.0855,-0.92092 -4.52575,-0.41567 -6.0845,1.24342c-7.55725,8.05892 -13.21533,17.81275 -16.35792,28.20442c-0.66292,2.18225 0.129,4.54367 1.96367,5.89458l8.47458,6.20992c2.75558,2.02458 4.39675,5.26392 4.39675,8.67525c0,3.41133 -1.64117,6.65067 -4.39317,8.66808l-8.47458,6.2135c-1.83825,1.35092 -2.62658,3.70875 -1.96367,5.89458c3.14617,10.39525 8.80425,20.15267 16.3615,28.20442c1.56233,1.66267 4.00258,2.16433 6.0845,1.24342l9.56033,-4.20683c3.12467,-1.376 6.751,-1.17533 9.70367,0.53033c2.95267,1.70567 4.93783,4.74792 5.3105,8.13775l1.1395,10.39883c0.24725,2.26825 1.89917,4.128 4.12083,4.65117c5.4825,1.27925 10.96858,1.93142 16.30058,1.93142c5.32483,0 10.81092,-0.64858 16.30058,-1.92783c2.22167,-0.51958 3.87717,-2.38292 4.12442,-4.65117l1.1395,-10.40242c0.37267,-3.38625 2.35783,-6.4285 5.31408,-8.13775c2.95267,-1.70925 6.57542,-1.90633 9.70008,-0.53033l9.56033,4.20683c2.08192,0.92092 4.52217,0.41567 6.0845,-1.24342c7.55725,-8.05892 13.21533,-17.81275 16.35792,-28.20442c0.66292,-2.18225 -0.129,-4.54367 -1.96367,-5.89458zM86,125.41667c-3.95958,0 -7.16667,-3.20708 -7.16667,-7.16667c0,-3.95958 3.20708,-7.16667 7.16667,-7.16667c3.95958,0 7.16667,3.20708 7.16667,7.16667c0,3.95958 -3.20708,7.16667 -7.16667,7.16667zM96.48842,88.28617c-3.29667,2.51908 -5.11342,3.90583 -5.11342,10.2555c0,2.967 -2.40442,5.375 -5.375,5.375c-2.97058,0 -5.375,-2.408 -5.375,-5.375c0,-11.66733 5.3965,-15.78817 9.33817,-18.80175c3.21783,-2.45817 4.99517,-3.81267 4.99517,-9.86492c0,-4.94142 -4.0205,-8.95833 -8.95833,-8.95833c-4.93783,0 -8.95833,4.01692 -8.95833,8.95833v1.591c0,2.967 -2.40442,5.375 -5.375,5.375c-2.97058,0 -5.375,-2.408 -5.375,-5.375v-1.591c0,-10.86467 8.84008,-19.70833 19.70833,-19.70833c10.86825,0 19.70833,8.84367 19.70833,19.70833c0,11.36633 -5.32842,15.437 -9.21992,18.41117z"></path></g></g></svg>`,
  6: `<svg class="-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="48" height="48"
viewBox="0 0 172 172"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#f1c40f"><path d="M150.5,46.58333l-32.25,-28.66667v57.33333z"></path><path d="M121.83333,57.32975c0,0 -64.5,-0.00358 -68.08333,0c-3.58333,0.00358 -3.58333,3.57258 -3.58333,3.57258v14.34767h-21.5v-17.92025c0,-11.85725 9.64275,-21.49642 21.5,-21.49642h71.66667zM21.5,125.41667l32.25,28.66667v-57.33333z"></path><path d="M50.16667,114.67383c0,0 64.5,0 68.08333,0c3.58333,-0.00717 3.58333,-3.57617 3.58333,-3.57617v-14.34767h21.5v17.92383c0,11.85367 -9.64275,21.49283 -21.5,21.49283h-71.66667z"></path></g></g></svg>`
}

const stages = {
  1: "Fresh",
  2: "In-Training",
  3: "Rookie",
  4: "Champion",
  5: "Ultimate",
  6: "Mega",
  7: "Ultra",
  8: "Hybrid",
  9: "Armor"
}

const types = auxTypes.sort((previous, index) => (previous > index) ? 1 : -1);
delete auxTypes;

const evolutionRequirements = auxEvolutionRequirements.sort((previous, index) => (previous > index) ? 1 : -1);
delete auxEvolutionRequirements;

const versions = auxVersions.sort((previous, index) => (previous > index) ? 1 : -1);
delete auxVersions;

const authors = {
  1: 'Zebub Al-Zemechiel',
  2: 'Dragonrod342',
  3: 'SergioGranSol',
  // 4: 'Lucho9',
  5: 'Opdisk',
  6: 'CadejoWhite',
  7: 'Topaz66',
  8: 'Arcanin1412',
  9: 'Neroesaurus',
  10: 'Demo9ic',
  11: 'BowchersDrawners',
  12: 'Matykiller',
  13: 'Sharkmon',
  14: 'WolfryHedgies',
  15: 'Maxtyrannus',
  16: 'Digimon games',
  // 17: 'Detcher',
  18: 'ScorchedDragonStudio',
  19: 'Pepino978',
  20: 'VictoryD',
  21: 'Extyrannomon',
  22: 'Digital Mosters Almanac',
  23: 'Thousand13'
}

const spriteDescription = {
  redesign: (name, name2) =>
    `Sprite ${name == authors[16] ? 'from' : 'made by'} ${name} based on ${name2}${name2.charAt(name2.length-1) == 's' ? '\'' : '\'s'} art`,
  made: name => `Sprite ${name == authors[16] ? 'from' : 'made by'} ${name}`,
  edit: name => `Edit by ${name}`,
  recolor: name => `This sprite is recolored`
}